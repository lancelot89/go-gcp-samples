# Security Policy

## サポート対象バージョン

現在サポートされているバージョン：

| バージョン | サポート状況 |
| ------- | ------------------ |
| main    | :white_check_mark: |
| v1.x    | :white_check_mark: |

## 脆弱性の報告

このプロジェクトのセキュリティ脆弱性を発見した場合は、責任ある開示をお願いします。

### 報告方法

1. **公開しない**: GitHubのIssueに脆弱性の詳細を記載しないでください
2. **プライベートに連絡**: 以下の方法で報告してください
   - GitHubのSecurity Advisoriesを使用
   - プロジェクトメンテナーに直接連絡

### 報告に含めるべき情報

- 脆弱性の種類
- 影響を受けるファイルやコンポーネント
- 再現手順
- 可能であれば、修正案やパッチ
- 影響範囲の評価

### 対応プロセス

1. **受領確認**: 48時間以内に受領確認を送信
2. **初期評価**: 7日以内に脆弱性の評価と対応優先度を決定
3. **修正開発**: 重要度に応じて修正を開発
4. **公開**: 修正完了後、セキュリティアドバイザリーを公開

## セキュリティベストプラクティス

### 認証情報の管理

- **絶対にコミットしない**:
  - APIキー
  - サービスアカウントキー
  - パスワード
  - トークン
  - その他の秘密情報

- **推奨される方法**:
  - 環境変数の使用
  - GCP Secret Managerの活用
  - Workload Identity連携

### 依存関係

- 定期的な`go mod tidy`の実行
- 依存関係の脆弱性スキャン
- 最新の安定版への更新

### GCPリソース

- **最小権限の原則**: 必要最小限の権限のみ付与
- **監査ログ**: Cloud Auditログの有効化
- **ネットワーク**: VPCやFirewallルールの適切な設定

### コンテナセキュリティ

- **ベースイメージ**: distrolessまたは最小限のベースイメージ使用
- **非rootユーザー**: コンテナ内でrootユーザーを使用しない
- **イメージスキャン**: Artifact Registryの脆弱性スキャン活用

## セキュリティツール

### 推奨ツール

```bash
# 依存関係の脆弱性チェック
go list -m all | nancy sleuth

# 静的解析
gosec ./...

# シークレットスキャン
gitleaks detect --source . -v
```

### CI/CDでの自動チェック

GitHub ActionsやCloud Buildで以下を自動実行：
- 依存関係の脆弱性スキャン
- コードの静的解析
- コンテナイメージスキャン

## 連絡先

セキュリティに関する質問や懸念事項：
- GitHubのSecurity Advisoriesを使用
- プロジェクトのDiscussionsで議論（機密情報を含まない場合）

## 更新履歴

- 2025-08-26: 初版作成